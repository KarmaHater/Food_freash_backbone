var counter=0,Recipe=Backbone.Model.extend({initialize:function(){counter++},defaults:function(){return{id:"",name:"",difficulty:"",rating:"",image:"",headline:"",description:"",recipe_id:"",deliverable_ingredients:"",ingredients:"",calories:"",fats:"",proteins:"",favorite:!1}}}),RecipesCollection=Backbone.Collection.extend({model:Recipe});$(document).ready(function(){var a=Backbone.View.extend({template:$("#recipe-tmp").html(),events:{"click a.check":"toggleFavorite"},render:function(){var a=Handlebars.compile(this.template);return a(this.model.toJSON()),this.$el.html(a(this.model.toJSON())),this},toggleFavorite:function(a){a.preventDefault();var b=$(a.target),c=b.attr("id"),d=RECIPES.get(c);b.attr("class").includes("like")?(d.set({favorite:!0}),b.removeClass("like"),b.html("Favorite")):(d.set({favorite:!1}),b.addClass("check like"),b.html("unFavorite"))}}),b=Backbone.View.extend({el:$("#recipesList"),initialize:function(){RECIPES=new RecipesCollection},render:function(){for(var b=0;b<RECIPES.models.length;b++){var c=new a({model:RECIPES.models[b]});this.$el.append(c.render().el)}},start:function(){$.ajax({url:"../../recipes.json"}).success(function(a){this.createRecipes(a),this.render()}.bind(this))},createRecipes:function(a){for(var b=0;b<a.length;b++){a[b].name,a[b].difficulty,a[b].rating,a[b].image,a[b].headline,a[b].description,a[b].recipes_id,a[b].deliverable_ingredients,a[b].ingredients,a[b].calories,a[b].fats,a[b].proteins;RECIPES.push(a[b])}}}),c=new b;c.start()});